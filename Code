#include <Servo.h>

int P1tPin = A5;
int P2tPin = A4;
int P3tPin = A3;
int Button1Pin = 2;
int Button2Pin = 3;
int MotorINApin = 5;
int MotorINBpin = 6;
Servo m1servo;
Servo m2servo;
Servo m3servo;
int v1l;
int v2l;
int v3l;


void setup() {
  // put your setup code here, to run once:
  pinMode(Button1Pin,INPUT_PULLUP);
  pinMode(Button2Pin,INPUT_PULLUP);
  pinMode(MotorINApin,OUTPUT);
  pinMode(MotorINBpin,OUTPUT);
  m1servo.attach(9);
  m2servo.attach(11);
  m3servo.attach(10);
}

void loop() {
  
  v1l = analogRead(P1tPin);
  v1l = map(v1l, 0, 1023, 0, 180);
  m1servo.write(v1l);

  v2l = analogRead(P2tPin);
  v2l = map(v2l, 0, 1023, 0, 180);
  m2servo.write(v2l);

  v3l = analogRead(P3tPin);
  v3l = map(v3l, 0, 1023, 0, 180);
  m3servo.write(v3l);

if (digitalRead(Button1Pin) == LOW) {
  analogWrite(MotorINApin, 120);  // sens 1
  analogWrite(MotorINBpin, 0);
}
else if (digitalRead(Button2Pin) == LOW) {
  analogWrite(MotorINApin, 0);
  analogWrite(MotorINBpin, 120);  // sens 2
}
else {
  analogWrite(MotorINApin, 0);    // STOP
  analogWrite(MotorINBpin, 0);    // STOP
}

}
